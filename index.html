<!DOCTYPE html>
<html>
<head>
    <title>Homie Weather V2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { 
            /* Transition makes the color change smooth */
            transition: background 2s ease;
            color: #fff; font-family: 'Segoe UI', sans-serif; 
            display: flex; flex-direction: column; align-items: center; 
            justify-content: center; height: 100vh; margin: 0; text-align: center;
            background: #111;
        }
        
        /* Animated Weather Icon (Number 3) */
        .icon-circle {
            width: 120px; height: 120px;
            background: #ffcc00; border-radius: 50%;
            margin-bottom: 20px;
            box-shadow: 0 0 50px #ffcc00;
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; box-shadow: 0 0 80px #ffcc00; }
            100% { transform: scale(1); opacity: 1; }
        }

        #temp { font-size: 100px; font-weight: 900; margin: 0; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }
        #status { font-size: 24px; padding: 20px; font-weight: 500; max-width: 300px; }
    </style>
</head>
<body>
    <div id="visual" class="icon-circle"></div>
    <p id="temp">--¬∞</p>
    <div id="status">Checking the vibes...</div>

    <script>
        async function getVibe() {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const { latitude, longitude } = pos.coords;
                const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`);
                const data = await response.json();
                const temp = data.current_weather.temperature;
                
                document.getElementById('temp').innerText = Math.round(temp) + "¬∞C";
                
                let message = "";
                let bgColor = "";
                let glowColor = "";

                // Logic for Background & Messages (Number 1)
                if (temp > 30) {
                    message = "Sauna status. Stay hydrated, homie! ü•µ";
                    bgColor = "linear-gradient(135deg, #ff4e50, #f9d423)"; // Hot Red/Orange
                    glowColor = "#ff4e50";
                } else if (temp > 20) {
                    message = "Pure vibes. Perfect t-shirt weather. üå¥";
                    bgColor = "linear-gradient(135deg, #43e97b, #38f9d7)"; // Tropical Green
                    glowColor = "#43e97b";
                } else if (temp > 10) {
                    message = "It's aight, grab a hoodie for the flex. üß•";
                    bgColor = "linear-gradient(135deg, #48c6ef, #6f86d6)"; // Cool Blue
                    glowColor = "#48c6ef";
                } else {
                    message = "It's brick! Stay inside. ‚ùÑÔ∏è";
                    bgColor = "linear-gradient(135deg, #1e3c72, #2a5298)"; // Deep Freeze Blue
                    glowColor = "#fff";
                }
                
                document.body.style.background = bgColor;
                document.getElementById('visual').style.background = glowColor;
                document.getElementById('visual').style.boxShadow = `0 0 60px ${glowColor}`;
                document.getElementById('status').innerText = message;
            });
        }
        getVibe();
    </script>
</body>
</html>
